
<?xml version="1.0" encoding="iso-8859-1"?>

<!--
	Please see the license.html file included with this distribution for
	attribution and copyright information.
-->

<root>
    <template name="test_defense_widget">
        <genericcontrol name="test_defense_widget">
            <anchored width="20">
                <left parent="attackrow" anchor="right" relation="relative" offset="8" />
                <top parent="targetvalue" offset="0" />
                <bottom parent="targetvalue" offset="0" />
            </anchored>
            <sheetdata>
                <attributedie name="defensedie">
                    <anchored to="parent" position="over"/>
                </attributedie>
                <pendingattack_number name="defensescore">
                    <invisible />
                    <anchored to="parent" position="over"/>
                    <!--<anchored>
                        <left parent="attackrow" anchor="right" relation="relative" offset="8" />
                        <top parent="targetvalue" offset="0" />
                        <bottom parent="targetvalue" offset="0" />
                    </anchored>-->
                </pendingattack_number>
            </sheetdata>
        </genericcontrol>
    </template>
	<windowclass name="combattracker_pendingtest">
		<margins control="0,7,0,7" />
		<frame>ct_subgroupbox</frame>
		<script file="Tests/scripts/ct_pending_tests_entry.lua" />
		<sheetdata>
			<genericcontrol name="rowanchor">
				<anchored position="insidetop" height="0" />
				<invisible />
			</genericcontrol>

			<!-- Description -->
			<hs name="attackertype" />
			<hs name="attackernodename" />
			<hs name="attacknodename" />
			<pendingresult_rowanchor name="descriptionrow">
				<anchored height="30" />
			</pendingresult_rowanchor>
			<simplestring name="attackdescription">
				<anchored height="25">
					<top parent="descriptionrow" offset="5" />
					<left offset="10" />
					<right offset="-10" />
				</anchored>
				<font>sheetlabel</font>
				<readonly />
				<script>
					function onDrop(...)
						return window.onDrop(...)
					end
					function onDragStart(...)
						return window.onDragStart(...)
					end
				</script>
			</simplestring>

			<!-- Pending attack -->
			<hn name="attackresult" />
			<pendingresult_rowanchor name="attackrow" />

			<pendingattack_number name="targetvalue">
				<anchored>
					<left parent="attackrow" anchor="right" relation="relative" offset="60" />
				</anchored>
			</pendingattack_number>
			<pendingresult_label name="attackscore_label">
				<anchored to="targetvalue" />
				<static textres="common_attack" />
			</pendingresult_label>

			<label name="defensescore_label">
				<anchored>
					<left parent="attackrow" anchor="right" relation="relative" offset="12" />
                    <top parent="attackscore_label" />
				</anchored>
				<static textres="common_defense" />
                <font>sheettext</font>
			</label>
            <button_text name="defendbutton">
                <anchored width="80">
                    <left parent="attackrow" anchor="right" relation="relative" offset="4" />
                    <top parent="targetvalue" />
                    <bottom parent="targetvalue" />
                </anchored>
            </button_text>
            <pendingattack_number name="defensescore">
				<anchored>
					<left parent="attackrow" anchor="right" relation="relative" offset="8" />
                    <top parent="targetvalue" offset="0" />
				</anchored>
            </pendingattack_number>

			<pendingattack_icon name="shaken">
				<anchored>
					<left parent="attackrow" anchor="right" relation="relative" offset="5" />
				</anchored>
				<icon>state_shaken</icon>
			</pendingattack_icon>

			<button_text name="apply">
				<anchored width="35" height="17">
					<right offset="-40" />
					<bottom parent="rowanchor" anchor="bottom" relation="current" offset="-13" />
				</anchored>
				<state textres="button_apply" />
				<script>
					function onButtonPress()
						window.applyDamage()
					end
					function onDrop(...)
						return window.onDrop(...)
					end
					function onDragStart(...)
						return window.onDragStart(...)
					end
				</script>
			</button_text>
			<buttoncontrol>
				<anchored width="19" height="20">
					<right offset="-10" />
					<bottom parent="rowanchor" anchor="bottom" relation="current" offset="-11" />
				</anchored>
				<icon normal="button_clear" pressed="button_clear_down" />
				<tooltip textres="ct_pendingattack_toolip_clear" />
				<script>
					function onButtonPress()
						window.removeEntry()
					end
					function onDrop(...)
						return window.onDrop(...)
					end
					function onDragStart(...)
						return window.onDragStart(...)
					end
				</script>
			</buttoncontrol>
		</sheetdata>
	</windowclass>
</root>
